<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:head>
        <title>#{text.editProduct}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <ui:insert name="header">
            <ui:include src="includes/head_dependencies.xhtml"/>
        </ui:insert>
    </h:head>
    <h:body>
        <ui:insert name="mainmenu">
            <ui:include src="includes/main_menu.xhtml"/>
        </ui:insert>


        <br/>

        <div class="sitecontent">
            <div class="row">
                <div class="col-sm-12">
                    <h3>#{text.editProduct}</h3>
                </div>
            </div>
            <br/>
            <p:outputPanel rendered="#{editProduct.productDoesNotExist}">
                <h4>#{text.productsCategoryCategoryDoesntExistText}</h4>
            </p:outputPanel>


            <h:form id="editProductsForm" rendered="#{!editProduct.productDoesNotExist}"  enctype="multipart/form-data">

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductTitle}"/>
                    </div>
                    <div class="col-sm-11">
                        <p:inputText value="#{editProduct.editedProduct.title}" />
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductAvailableAmount}"/>
                    </div>
                    <div class="col-sm-11">
                        <p:inputText value="#{editProduct.editedProduct.availableAmount}" />
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{editProduct.netPriceInfo}"/>
                    </div>
                    <div class="col-sm-1">
                        <p:inputText value="#{editProduct.priceCurrencyUnit}" style="width: 100px"/> 
                    </div>
                    <div class="col-sm-1" style="width: 5px">
                        <h:outputText value="#{editProduct.commaSeperator}" style="width: 5px; height: 20px; font-size: 25px; margin-left: 0px"/>
                    </div>
                    <div class="col-sm-1">
                        <p:inputText value="#{editProduct.priceCentUnit}" style="width: 50px"/> 
                    </div>
                    <div class="col-sm-1">
                        <p:outputLabel value="#{editProduct.activeCurrency}"/>
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductTax}"/>
                    </div>
                    <div class="col-sm-11">
                        <p:inputText value="#{editProduct.editedProduct.tax}" /> 
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductAvailableAmount}"/>
                    </div>
                    <div class="col-sm-11">
                        <p:spinner value="#{editProduct.editedProduct.availableAmount}" min="0" />
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editAvailableProduct}"/>
                    </div>
                    <div class="col-sm-11">
                        <p:selectBooleanCheckbox value="#{editProduct.editedProduct.available}" itemLabel="#{text.editAvailableProduct}"/>
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductCategory}"/>
                    </div>
                    <div class="col-sm-11">
                        <h:outputText value="#{editProduct.editedProduct.category.categoryName}"/>
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductDescription}"/>
                    </div>
                    <div class="col-sm-11">
                        <p:textEditor widgetVar="productDescriptionEditor" value="#{editProduct.editedProduct.description}" height="300" style="margin-bottom:10px"/>
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-1">
                        <p:outputLabel value="#{text.editProductPicture}"/>
                    </div>
                    <div class="col-sm-8">
                        <image href="#{editProduct.editedProduct.productPhotoPath}" height="300px"/>
                    </div>

                    <div class="col-sm-3">
                        <p:fileUpload value="#{editProduct.productPhotoFile}" mode="simple" skinSimple="true"/>
                    </div>
                </div>

                <div class="row formFieldRow">
                    <div class="col-sm-6">
                        <p:commandButton value="#{text.editProductSubmitButton}" ajax="false" action="#{editProduct.saveProductAndProductPhoto()}" style="background-color: green; color: white"/>
                    </div>
                    <div class="col-sm-6">
                        <p:commandButton value="#{text.editProductCancelButton}" ajax="false" action="#{editProduct.cancel()}" style="background-color: red; color: white; margin-left: 15px" />
                    </div>
                </div>

            </h:form>

        </div>

        <br/>

        <ui:insert name="footer_container">
            <ui:include src="includes/footer_global.xhtml"/>
        </ui:insert>
    </h:body>
</html>
